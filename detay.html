<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Eser Detayı | Defter-i Mûsikî</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Crimson Pro', serif; background-color: #fcfaf5; color: #3e2723; margin: 0; padding: 40px; display: flex; justify-content: center; }
        .kart { max-width: 800px; width: 100%; background: white; padding: 50px; border-radius: 2px; box-shadow: 0 0 20px rgba(0,0,0,0.05); border: 1px solid #e0d7c6; position: relative; }
        
        /* Sayfa Süsü */
        .kart::after { content: ""; position: absolute; top: 5px; left: 5px; right: 5px; bottom: 5px; border: 1px solid #f2eee6; pointer-events: none; }

        h1 { font-size: 2.8rem; color: #5d4037; text-align: center; border-bottom: 2px solid #8d6e63; padding-bottom: 20px; margin-top: 0; }
        
        .kunya-tablo { width: 100%; margin-top: 30px; border-spacing: 0 15px; }
        .etiket { width: 160px; font-weight: 700; color: #8d6e63; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 1px; }
        .deger { font-size: 1.4rem; border-bottom: 1px solid #f4f1ea; padding-bottom: 5px; }

        .nota-bolumu { margin-top: 50px; padding: 40px; background: #fafafa; border: 1px dashed #d7ccc8; text-align: center; border-radius: 4px; }
        .kapat-link { display: block; text-align: center; margin-top: 30px; color: #a1887f; text-decoration: none; font-weight: 600; font-size: 0.9rem; }
        .kapat-link:hover { color: #5d4037; }
    </style>
</head>
<body>

<div class="kart">
    <h1 id="eser-adi">Yükleniyor...</h1>
    
    <table class="kunya-tablo">
        <tr><td class="etiket">Makam</td><td class="deger" id="makam"></td></tr>
        <tr><td class="etiket">Güftekâr</td><td class="deger" id="gufte"></td></tr>
        <tr><td class="etiket">Bestekâr</td><td class="deger" id="bestekar"></td></tr>
        <tr><td class="etiket">Usûl</td><td class="deger" id="usul"></td></tr>
        <tr><td class="etiket">Form</td><td class="deger" id="form"></td></tr>
    </table>

    <div class="nota-bolumu" id="nota-alani">
        <p style="font-style: italic; color: #999;">Eserin nota görseli henüz arşive dahil edilmemiştir.</p>
    </div>

    <a href="javascript:window.close();" class="kapat-link">✕ PENCEREYİ KAPAT</a>
</div>

<script src="data.js"></script>
<script>
    // URL'deki ID'yi yakala (?id=5 gibi)
    const urlParams = new URLSearchParams(window.location.search);
    const id = parseInt(urlParams.get('id'));

    // data.js içinden bu ID'ye sahip eseri bul
    const eser = eserler.find(e => e.id === id);

    if (eser) {
        document.title = eser.eser + " | Detay";
        document.getElementById('eser-adi').innerText = eser.eser;
        document.getElementById('makam').innerText = eser.makam;
        document.getElementById('gufte').innerText = eser.güfte || "Belirsiz";
        document.getElementById('bestekar').innerText = eser.bestekâr;
        document.getElementById('usul').innerText = eser.usul;
        document.getElementById('form').innerText = eser.form;
    } else {
        document.body.innerHTML = "<h1>Eser bulunamadı.</h1>";
    }
</script>

</body>
</html>
