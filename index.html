<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Defter-i MÃ»sikÃ® | Klasik TÃ¼rk MÃ¼ziÄŸi ArÅŸivi/title>
    
    <link rel="shortcut icon" href="logo.png" type="image/x-icon">
    <link rel="icon" href="logo.png?v=1" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .serif { font-family: 'Crimson Pro', serif; }
        .satir-link:hover { background-color: #f8fafc; }
    </style>
</head> 
<body class="bg-[#f0f2f5] min-h-screen text-gray-900">

    <div id="listeSayfasi" class="max-w-4xl mx-auto bg-white shadow-2xl rounded-2xl overflow-hidden min-h-[600px] mt-10">
        <div class="pt-10 pb-6 px-6 text-center border-b border-stone-100 bg-stone-50">
            <h1 class="text-5xl font-bold text-stone-900 serif tracking-tighter mb-2">Defter-i MÃ»sikÃ®</h1>
            <p class="text-xl text-stone-600 serif italic tracking-wide">Klasik TÃ¼rk MÃ¼ziÄŸi ArÅŸivi</p>
        </div>

        <div class="p-6 border-b border-gray-100">
            <input type="text" id="arama" placeholder="Eser, makam veya bestekÃ¢r ara..." 
                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-stone-500 outline-none">
        </div>
            
        <div class="overflow-x-auto">
            <table class="w-full text-left border-collapse text-sm">
                <thead class="bg-gray-50 border-b border-gray-200 text-gray-500 uppercase text-xs font-semibold">
                    <tr>
                        <th class="px-6 py-4">Eser BaÅŸlÄ±ÄŸÄ±</th>
                        <th class="px-6 py-4">GÃ¼ftekÃ¢r</th>
                        <th class="px-6 py-4">BestekÃ¢r</th>
                        <th class="px-6 py-4 hidden md:table-cell">Makam</th>
                        <th class="px-6 py-4 hidden md:table-cell text-right">Form</th>
                    </tr>
                </thead>
                <tbody id="liste-govdesi" class="divide-y divide-gray-100 bg-white"></tbody>
            </table>
        </div>
    </div>

    <div id="detaySayfasi" class="hidden p-4 md:p-8 max-w-5xl mx-auto">
        <button onclick="anaSayfayaDon()" class="text-amber-800 font-bold mb-6 flex items-center hover:text-amber-600 transition-colors">
            <span class="mr-2 text-xl">â†</span> Ana Sayfaya DÃ¶n
        </button>
        
        <div class="bg-white p-6 md:p-12 rounded-xl shadow-lg border-t-8 border-amber-800">
            <h1 id="detayAd" class="serif text-4xl md:text-5xl text-stone-800 mb-6 font-bold italic text-center leading-tight"></h1>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-stone-700 text-xl border-y border-stone-100 py-8 my-8 serif">
                <p class="flex justify-between border-b border-stone-50 pb-2"><strong>Makam:</strong> <span id="detayMakam"></span></p>
                <p class="flex justify-between border-b border-stone-50 pb-2"><strong>UsÃ»l:</strong> <span id="detayUsul"></span></p>
                <p class="flex justify-between border-b border-stone-50 pb-2"><strong>GÃ¼ftekÃ¢r:</strong> <span id="detayGufte"></span></p>
                <p class="flex justify-between border-b border-stone-50 pb-2"><strong>BestekÃ¢r:</strong> <span id="detayBestekar"></span></p>
                <p class="flex justify-between border-b border-stone-50 pb-2 md:col-span-2"><strong>Form:</strong> <span id="detayForm"></span></p>
            </div>
            <div id="notaAlani"></div>
        </div>
    </div>

    <script>
        const eserler = [
            {
                "id": 1,
                "eser": "Beni bÃ®gÃ¢ne-i hÃ¢b etti keder",
                "makam": "SÃ»znÃ¢k",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Aksak",
                "form": "ÅarkÄ±",
                "nota": "notalar/beni_bigane.pdf",
                "icra": "https://www.youtube.com/watch?v=h8e5R6--XjU"
            },
            {
                "id": 2,
                "eser": "Bir nigÃ¢hÄ±n gÃ¶nlÃ¼mÃ¼ etti esÃ®r-i aÅŸkÄ±n Ã¢h",
                "makam": "Evc",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Aksak",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": "https://www.youtube.com/watch?v=GE1Am4-OIlE"
            },
            {
                "id": 3,
                "eser": "Bir perÃ®-sÃ®mÃ¢ gÃ¼zelsin hÃ¼snÃ¼ne yoktur bahÃ¢",
                "makam": "SultÃ¢nÃ®-yegÃ¢h",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Devr-i hindÃ®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 4,
                "eser": "DaÄŸda tavÅŸanlar uyur ninni",
                "makam": "Hicaz",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Sofyan",
                "form": "Ninni",
                "nota": "",
                "icra": ""
            },
            {
                "id": 5,
                "eser": "Def-i nÃ¢liÅŸ eylerim hep seyr-i ruhsÃ¢rÄ±nla ben",
                "makam": "KÃ¼rdÃ®li-hicÃ¢zkÃ¢r",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Aksak",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 6,
                "eser": "FeryÃ¢d ki feryÃ¢dÄ±ma imdÃ¢d edecek yok",
                "makam": "Åehnaz",
                "gÃ¼ftekÃ¢r": "NigÃ¢r HanÄ±m",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Sengin semÃ¢Ã®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 7,
                "eser": "Gel ey sÃ¢ki bana sun bir piyÃ¢le",
                "makam": "SegÃ¢h",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Aksak",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 8,
                "eser": "GÃ¶rmek ister gÃ¶zlerim her dem seni",
                "makam": "HÃ¼seynÃ®",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Devr-i hindÃ®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 9,
                "eser": "GÃ¼l gonce-i Ã¼mÃ®d gibi gel aÃ§Ä±l ey gÃ¼l",
                "makam": "GÃ¼lizÃ¢r",
                "gÃ¼ftekÃ¢r": "Mahmut Åevket Ã–zdÃ¶nmez",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Sengin semÃ¢Ã®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 10,
                "eser": "GÃ¼lsitÃ¢ne eyleyip tercÃ®h bir vÃ®rÃ¢neyi",
                "makam": "ÅevkefzÃ¢",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "YÃ¼rÃ¼k semÃ¢Ã®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 11,
                "eser": "HÃ¢tÄ±r-Ä± nÃ¢ÅŸÃ¢dÄ± gel gÃ¶r bir nefes ÅŸÃ¢d et beni",
                "makam": "SegÃ¢h",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "AÄŸÄ±r aksak",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 12,
                "eser": "Hep sÃ¢ye-i vaslÄ±nda gÃ¶nÃ¼l ÅŸÃ¢d olacakken",
                "makam": "Hicaz",
                "gÃ¼ftekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Sengin semÃ¢Ã®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 13,
                "eser": "Hicrinle fÃ¼zÃ»n olmadan ahzÃ¢n-Ä± mezÃ¢lim",
                "makam": "KÃ¼rdÃ®li-hicÃ¢zkÃ¢r",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Aksak",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 14,
                "eser": "MÃ¢temzedeyim kÃ¼lbe-i ahzÃ¢nÄ±mÄ± gel gÃ¶r",
                "makam": "Hicaz",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Aksak",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 15,
                "eser": "NazÃ®rin yok senin ey mÃ¢h yerde",
                "makam": "Evc",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Aksak semÃ¢Ã®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 16,
                "eser": "NihÃ¢ndÄ±r dÃ®deden gerÃ§i cemÃ¢lin",
                "makam": "MÃ¼stear",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "YÃ¼rÃ¼k semÃ¢Ã®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 17,
                "eser": "PÃ¼r-lerze olur rÃ»yini gÃ¶rdÃ¼kÃ§e cenÃ¢nÄ±m",
                "makam": "Muhayyer",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "Sengin semÃ¢Ã®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 18,
                "eser": "Sen gÃ¼l eÄŸlen ÅŸÃ¢d-mÃ¢n ol",
                "makam": "MÃ¢hur",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "AÄŸÄ±r aksak",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 19,
                "eser": "Sevdim seni ey iÅŸve-bÃ¢z",
                "makam": "NihÃ¢vend",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "SemÃ¢Ã®",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            },
            {
                "id": 20,
                "eser": "Var iken zÃ¢tÄ±nda bÃ¶yle hÃ¼sn Ã¼ Ã¢n olma nihÃ¢n",
                "makam": "MÃ¢hur",
                "gÃ¼ftekÃ¢r": "Mechul",
                "bestekÃ¢r": "TanbÃ»rÃ® Cemil Bey",
                "usÃ»l": "AÄŸÄ±r aksak",
                "form": "ÅarkÄ±",
                "nota": "",
                "icra": ""
            }
        ];

        function temizle(metin) {
            if (!metin) return "";
            return metin.toString().replace(/Ä°/g, "i").replace(/I/g, "i").toLowerCase()
                .replace(/Ã¢/g, "a").replace(/Ã®/g, "i").replace(/Ã»/g, "u")
                .replace(/Ä±/g, "i").replace(/ÄŸ/g, "g").replace(/Ã¼/g, "u")
                .replace(/ÅŸ/g, "s").replace(/Ã¶/g, "o").replace(/Ã§/g, "c").trim();
        }

        function listele(filtre = '') {
            const govde = document.getElementById('liste-govdesi');
            const aramaTerimi = temizle(filtre);
            const sonuc = eserler.filter(item => temizle(item.eser).includes(aramaTerimi) || temizle(item.makam).includes(aramaTerimi));
            govde.innerHTML = '';
            sonuc.forEach(item => {
    const satir = document.createElement('tr');
    satir.className = "satir-link border-b border-gray-100";
    
    // SatÄ±rÄ±n iÃ§ine tÄ±klandÄ±ÄŸÄ±nda detay sayfasÄ±na gitmesini saÄŸlayan link
    satir.innerHTML = `
        <td class="px-6 py-4">
            <a href="?id=${item.id}" 
               onclick="event.preventDefault(); detayGoster(${item.id});" 
               class="block font-semibold text-blue-600 serif text-lg hover:underline">
               ${item.eser}
            </a>
        </td>
        <td class="px-6 py-4 text-gray-600">${item.gÃ¼ftekÃ¢r}</td>
        <td class="px-6 py-4 text-gray-600">${item.bestekÃ¢r}</td>
        <td class="px-6 py-4 hidden md:table-cell">
            <span class="bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-bold">${item.makam}</span>
        </td>
        <td class="px-6 py-4 hidden md:table-cell text-right text-gray-400 font-mono">
            ${item.form}
        </td>
    `;
    govde.appendChild(satir);
});
        }

        function detayGoster(id, pushState = true) {
    const eser = eserler.find(e => e.id === id);
    if (eser) {
        document.getElementById('detayAd').innerText = eser.eser;
        document.getElementById('detayMakam').innerText = eser.makam;
        document.getElementById('detayUsul').innerText = eser.usÃ»l;
        document.getElementById('detayGufte').innerText = eser.gÃ¼ftekÃ¢r;
        document.getElementById('detayBestekar').innerText = eser.bestekÃ¢r;
        
        // Form'u yukarÄ± aldÄ±k, GÃ¼fteyi bÃ¼yÃ¼k alana bastÄ±k
        document.getElementById('detayForm').innerText = eser.form;
        document.getElementById('detayGufteMetin').innerText = eser.sozler || "GÃ¼fte henÃ¼z eklenmemiÅŸ.";

        const notaLinkAlani = document.getElementById('notaLinkAlani');
        notaLinkAlani.innerHTML = eser.nota ? 
            `<a href="${eser.nota}" target="_blank" class="text-red-700 font-bold hover:underline">ğŸ“„ NotayÄ± GÃ¶rÃ¼ntÃ¼le</a>` 
            : "Nota Yok";

        // Sayfa geÃ§iÅŸleri
        document.getElementById('listeSayfasi').classList.add('hidden');
        document.getElementById('detaySayfasi').classList.remove('hidden');
        if (pushState) window.history.pushState({id: id}, "", "?id=" + id);
        window.scrollTo(0,0);
    }
}

        function anaSayfayaDon(pushState = true) {
            document.getElementById('detaySayfasi').classList.add('hidden');
            document.getElementById('listeSayfasi').classList.remove('hidden');
            if (pushState) window.history.pushState({}, "", window.location.pathname);
        }

        window.addEventListener('popstate', (e) => {
            if (e.state && e.state.id) detayGoster(e.state.id, false); else anaSayfayaDon(false);
        });

        window.onload = () => {
            const id = new URLSearchParams(window.location.search).get('id');
            if (id) detayGoster(parseInt(id), false); else listele();
        };

        document.getElementById('arama').addEventListener('input', (e) => listele(e.target.value));
    </script>
</body>
</html>
