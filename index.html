<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Defter-i Mûsikî | Tanbûrî Cemil Bey Eserleri Arşivi</title>
<meta name="description" content="Tanbûrî Cemil Bey'in tüm eserlerini içeren dijital nota arşivi. Makam, usûl, güfte ve form bilgilerine anında ulaşın.">
<meta name="keywords" content="Tanbûrî Cemil Bey, mûsikî arşivi, Türk sanat müziği notaları, makamlar, usûller, nota defteri">
<meta name="author" content="Defter-i Mûsikî">

<meta property="og:title" content="Defter-i Mûsikî | Tanbûrî Cemil Bey Arşivi">
<meta property="og:description" content="Klasik Türk Mûsikîsi'nin dâhisi Tanbûrî Cemil Bey'in eserleri burada.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://defter-i-musiki.vercel.app/">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .serif { font-family: 'Crimson Pro', serif; }
        .satir-link:hover { background-color: #f8fafc; }
        /* Makamların sadece ilk harfini büyük yapan özel sınıf */
        .makam-format { text-transform: lowercase; display: inline-block; }
        .makam-format::first-letter { text-transform: uppercase; }
    </style>
</head> 
<body class="bg-[#f0f2f5] min-h-screen text-gray-900">

    <div id="listeSayfasi" class="p-4 md:p-8 max-w-6xl mx-auto">
        <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
            <div class="p-6 border-b border-gray-100">
                <h2 class="text-2xl font-bold text-gray-800 mb-4 italic serif">Defter-i Mûsikî Arşivi</h2>
                <input type="text" id="arama" placeholder="Eser, makam, güfte veya bestekâr ara..." 
                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition-all text-base">
            </div>
            
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse text-sm">
                    <thead class="bg-gray-50 border-b border-gray-200 text-gray-500 uppercase text-xs font-semibold">
                        <tr>
                            <th class="px-6 py-4 text-gray-400">Eser Başlığı</th>
                            <th class="px-6 py-4 text-gray-400">Güftekâr</th>
                            <th class="px-6 py-4 text-gray-400">Bestekâr</th>
                            <th class="px-6 py-4 hidden md:table-cell text-gray-400">Makam</th>
                            <th class="px-6 py-4 hidden md:table-cell text-right text-gray-400 font-mono">Form / Usûl</th>
                        </tr>
                    </thead>
                    <tbody id="liste-govdesi" class="divide-y divide-gray-100 bg-white"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="detaySayfasi" class="hidden p-4 md:p-8 max-w-4xl mx-auto">
        <button onclick="anaSayfayaDon()" class="text-amber-800 font-bold mb-6 flex items-center hover:text-amber-600 transition-colors">
            <span class="mr-2 text-xl">←</span> Ana Sayfaya Dön
        </button>
        
        <div class="bg-white p-6 md:p-12 rounded-xl shadow-lg border-t-8 border-amber-800">
            <h1 id="detayAd" class="serif text-4xl md:text-5xl text-stone-800 mb-6 font-bold italic text-center leading-tight"></h1>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-stone-700 text-xl border-y border-stone-100 py-8 my-8 serif">
                <p class="flex justify-between border-b border-stone-50 pb-2"><strong>Makam:</strong> <span id="detayMakam" class="makam-format"></span></p>
                <p class="flex justify-between border-b border-stone-50 pb-2"><strong>Usûl:</strong> <span id="detayUsul"></span></p>
                <p class="flex justify-between border-b border-stone-50 pb-2"><strong>Güftekâr:</strong> <span id="detayGufte"></span></p>
                <p class="flex justify-between border-b border-stone-50 pb-2"><strong>Bestekâr:</strong> <span id="detayBestekar"></span></p>
                <p class="flex justify-between border-b border-stone-50 pb-2 md:col-span-2"><strong>Form:</strong> <span id="detayForm"></span></p>
            </div>

            <div id="notaAlani" class="mt-8 text-center bg-stone-50 rounded-lg overflow-hidden border border-stone-100"></div>
        </div>
    </div>

    <script>
        const eserler = [
            {"id": 1, "eser": "Beni bîgâne-i hâb etti keder", "makam": "Sûznâk", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Aksak", "form": "Şarkı", "resim": ""},
            {"id": 2, "eser": "Bir nigâhın gönlümü etti esîr-i aşkın âh", "makam": "Evc", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Aksak", "form": "Şarkı", "resim": ""},
            {"id": 3, "eser": "Bir perî-sîmâ güzelsin hüsnüne yoktur bahâ", "makam": "Sultânî-yegâh", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Devr-i hindî", "form": "Şarkı", "resim": ""},
            {"id": 4, "eser": "Dağda tavşanlar uyur ninni", "makam": "Hicaz", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Sofyan", "form": "Ninni", "resim": ""},
            {"id": 5, "eser": "Def-i nâliş eylerim hep seyr-i ruhsârınla ben", "makam": "Kürdîli-hicâzkâr", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Aksak", "form": "Şarkı", "resim": ""},
            {"id": 6, "eser": "Feryâd ki feryâdıma imdâd edecek yok", "makam": "Şehnaz", "güftekâr": "Nigâr Hanım", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Sengin semâî", "form": "Şarkı", "resim": ""},
            {"id": 7, "eser": "Gel ey sâki bana sun bir piyâle", "makam": "Segâh", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Aksak", "form": "Şarkı", "resim": ""},
            {"id": 8, "eser": "Görmek ister gözlerim her dem seni", "makam": "Hüseynî", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Devr-i hindî", "form": "Şarkı", "resim": ""},
            {"id": 9, "eser": "Gül gonce-i ümîd gibi gel açıl ey gül", "makam": "Gülizâr", "güftekâr": "Mahmut Şevket Özdönmez", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Sengin semâî", "form": "Şarkı", "resim": ""},
            {"id": 10, "eser": "Gülsitâne eyleyip tercîh bir vîrâneyi", "makam": "Şevkefzâ", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Yürük semâî", "form": "Şarkı", "resim": ""},
            {"id": 11, "eser": "Hâtır-ı nâşâdı gel gör bir nefes şâd et beni", "makam": "Segâh", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Ağır aksak", "form": "Şarkı", "resim": ""},
            {"id": 12, "eser": "Hep sâye-i vaslında gönül şâd olacakken", "makam": "Hicaz", "güftekâr": "Tanbûrî Cemil Bey", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Sengin semâî", "form": "Şarkı", "resim": ""},
            {"id": 13, "eser": "Hicrinle füzûn olmadan ahzân-ı mezâlim", "makam": "Kürdîli-hicâzkâr", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Aksak", "form": "Şarkı", "resim": ""},
            {"id": 14, "eser": "Mâtemzedeyim külbe-i ahzânımı gel gör", "makam": "Hicaz", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Aksak", "form": "Şarkı", "resim": ""},
            {"id": 15, "eser": "Nazîrin yok senin ey mâh yerde", "makam": "Evc", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Aksak semâî", "form": "Şarkı", "resim": ""},
            {"id": 16, "eser": "Nihândır dîdeden gerçi cemâlin", "makam": "Müstear", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Yürük semâî", "form": "Şarkı", "resim": ""},
            {"id": 17, "eser": "Pür-lerze olur rûyini gördükçe cenânım", "makam": "Muhayyer", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Sengin semâî", "form": "Şarkı", "resim": ""},
            {"id": 18, "eser": "Sen gül eğlen şâd-mân ol", "makam": "Mâhur", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Ağır aksak", "form": "Şarkı", "resim": ""},
            {"id": 19, "eser": "Sevdim seni ey işve-bâz", "makam": "Nihâvend", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Semâî", "form": "Şarkı", "resim": ""},
            {"id": 20, "eser": "Var iken zâtında böyle hüsn ü ân olma nihân", "makam": "Mâhur", "güftekâr": "Mechul", "bestekâr": "Tanbûrî Cemil Bey", "usûl": "Ağır aksak", "form": "Şarkı", "resim": ""}
        ];

        window.addEventListener('popstate', URLKontrolEt);
        window.onload = () => { URLKontrolEt(); listele(); };

        function URLKontrolEt() {
            const urlParams = new URLSearchParams(window.location.search);
            const id = urlParams.get('id');
            if (id) { detayGoster(parseInt(id), false); } else { anaSayfayaDon(false); }
        }

        function listele(filtre = '') {
            const govde = document.getElementById('liste-govdesi');
            const aramaTerimi = filtre.toLowerCase();
            const sonuc = eserler.filter(item => 
                (item.eser || "").toLowerCase().includes(aramaTerimi) ||
                (item.makam || "").toLowerCase().includes(aramaTerimi) ||
                (item.bestekâr || "").toLowerCase().includes(aramaTerimi) ||
                (item.güfte || "").toLowerCase().includes(aramaTerimi)
            );

            govde.innerHTML = '';
            sonuc.forEach(item => {
                const satir = document.createElement('tr');
                satir.className = "satir-link cursor-pointer transition-colors";
                satir.innerHTML = `
                    <td class="px-6 py-4 font-semibold text-blue-600">
                        <a href="?id=${item.id}" onclick="event.preventDefault(); detayGoster(${item.id})" class="hover:underline italic serif text-lg">${item.eser}</a>
                    </td>
                    <td class="px-6 py-4 text-gray-600">${item.güftekâr || item.güfte || "Mechul"}</td>
                    <td class="px-6 py-4 text-gray-600">${item.bestekâr}</td>
                    <td class="px-6 py-4 hidden md:table-cell text-gray-600">
                        <span class="bg-blue-50 text-blue-700 px-2 py-1 rounded text-xs font-bold makam-format">
                            ${item.makam}
                        </span>
                    </td>
                    <td class="px-6 py-4 hidden md:table-cell text-right text-gray-400 font-mono">${item.form} / ${item.usûl}</td>
                `;
                govde.appendChild(satir);
            });
        }

        function detayGoster(id, pushState = true) {
            const eser = eserler.find(e => e.id === id);
            if (eser) {
                document.getElementById('detayAd').innerText = eser.eser;
                document.getElementById('detayMakam').innerText = eser.makam;
                document.getElementById('detayGufte').innerText = eser.güftekâr || eser.güfte || "Mechul";
                document.getElementById('detayUsul').innerText = eser.usûl || eser.usul || "-";
                document.getElementById('detayBestekar').innerText = eser.bestekâr;
                document.getElementById('detayForm').innerText = eser.form;
                
                const notaAlani = document.getElementById('notaAlani');
                if(eser.resim) {
                    notaAlani.innerHTML = `<img src="${eser.resim}" class="max-w-full mx-auto shadow-inner">`;
                } else {
                    notaAlani.innerHTML = `<div class="p-20 text-stone-300 italic serif text-xl uppercase tracking-widest">Nota henüz eklenmedi</div>`;
                }

                document.getElementById('listeSayfasi').classList.add('hidden');
                document.getElementById('detaySayfasi').classList.remove('hidden');
                if (pushState) { window.history.pushState({id: id}, "", `?id=${id}`); }
                window.scrollTo(0,0);
            }
        }

        function anaSayfayaDon(pushState = true) {
            document.getElementById('detaySayfasi').classList.add('hidden');
            document.getElementById('listeSayfasi').classList.remove('hidden');
            if (pushState) { window.history.pushState({}, "", window.location.pathname); }
        }

        document.getElementById('arama').addEventListener('input', (e) => listele(e.target.value));
    </script>
</body>
</html>
